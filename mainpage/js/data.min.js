var DataInserter = {
    dataArray: [],
    DataInsertFn: function DataInsertFn(mode) {
      var reqCompany = document.getElementById('reqcompany').value;
      var reqPhone = document.getElementById('reqphone').value;
      var reqEmail = document.getElementById('reqemail').value;
      var reqMemo = document.getElementById('reqmemo').value; //// default Value
  
      var fileName = document.getElementById('file1');
      var reqName = document.getElementById('reqname');
      var reqPay = document.getElementById('reqpay');
      var reqInq = document.getElementById('reqinqr');
      var reqTarget = document.getElementById('reqtarget');
      var reqPerson = document.getElementById('reqperson');
      var Checkd = document.getElementById('checkbox_1').checked; // Addional values tag
  
      var reqInqr;
      var payInqr;
      var reqTargetr;
      var reqPersonr;
      var reqNamer;
      var fileNamer;
  
      if (mode != 'basic') {
        reqInqr = reqInq.value;
        payInqr = reqPay.value;
        reqNamer = reqName.value;
        fileNamer = fileName.value;
      }
  
      if (mode == "academy") {
        reqTargetr = reqTarget.value;
        reqPersonr = reqPerson.value;
      }
  
      this.dataArray = [{
        reqCompany: reqCompany,
        reqPhone: reqPhone,
        reqEmail: reqEmail,
        reqMemo: reqMemo,
        mode: mode,
        //default data
        reqInqr: reqInqr,
        payInqr: payInqr,
        reqTargetr: reqTargetr,
        reqPersonr: reqPersonr,
        reqNamer: reqNamer,
        fileNamer: fileNamer
      }];
  
      if (this.dataArray[0].reqCompany == "") {
        alert('회사명, 연락처는 필수입니다.');
      } else if (this.dataArray[0].reqPhone == "") {
        alert('회사명, 연락처는 필수입니다.');
      } else if (Checkd == false) {
        alert('개인정보 수집 및 이용에 동의 해주세요');
      } else {
        var xhttp = new XMLHttpRequest();
  
        xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            var returnJson = JSON.parse(this.response);
            console.log(returnJson);
  
            if (returnJson.phpresult == 'ok') {
              if (DataInserter.dataArray[0].fileNamer != "") {
                if (mode != 'basic') {
                  frm.submit();
                } else {
                  alert('상담신청이 완료 되었습니다. 빠른시일안에 연락 드리겠습니다');
                  location.reload();
                }
              } else {
                alert('상담신청이 완료 되었습니다. 빠른시일안에 연락 드리겠습니다');
              }
            } else {
              alert('상담신청실패');
            }
          }
        };
  
        xhttp.open('POST', 'php/insert.php', true);
        xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhttp.send("data=" + JSON.stringify(DataInserter.dataArray));
      }
    }
  };