
String.prototype.replaceAll = function (org, dest) {
  //array fillter prototype
  return this.split(org).join(dest);
};

var HtmlMokup = {
  Main: {
    main: "index.html"
  },
  Service: {
    main: "service_design.html?cate=0&pageno=0",
    design: "service_design.html?cate=0&pageno=0",
    marketing: "service_marketing.html?cate=0&pageno=1",
    academy: "service_academy.html?cate=0&pageno=2",
    consulting: "service_consulting.html?cate=0&pageno=3"
  },
  Works: {
    main: "works_list.html?cate=1",
    List: "works_list.html?cate=2"
  },
  Contact: {
    main: "contact.html?cate=2&pageno=0",
    design: "contact_design.html?cate=2&pageno=1",
    marketing: "contact_marketing.html?cate=2&pageno=2",
    consulting: "contact_consulting.html?cate=2&pageno=3",
    academy: "contact_academy.html?cate=2&pageno=4"
  },
  About: {
    main: "about.html?cate=3"
  }
};
var navMokupRender = {
  HeaderRender: function HeaderRender() {
    var Gnb = document.getElementsByClassName('gnb')[0];
    Gnb.innerHTML = "<nav>\n                                <div class=\"ci\"><a href=\"".concat(HtmlMokup.Main.main, "\"><img src=\"images/ci_white.png\" alt=\"ceomaker\"></a></div>\n                                <a href=\"").concat(HtmlMokup.Service.main, "\">SERVICE</a>\n                                <a href=\"").concat(HtmlMokup.Works.main, "\">WORKS</a>\n                                <a href=\"").concat(HtmlMokup.Contact.main, "\">CONTACT</a>\n                                <a href=\"").concat(HtmlMokup.About.main, "\">ABOUT</a>\n                            </nav>");
  },
  SideBarNav: function SideBarNav() {
    this.getQueryString();
    var SideBarService = document.querySelectorAll('.s_lnb');
    var ciLnb = document.querySelectorAll('.ci_lnb');

    var _lnb = document.querySelectorAll('.h_lnb'); // _lnb[0].setAttribute('href',HtmlMokup.Main.main)


    for (var i = 0; i < ciLnb.length; i++) {
      ciLnb[i].setAttribute('href', HtmlMokup.Main.main);
    }

    if (params.cate != undefined) {
      for (var _i = 0; _i < _lnb.length; _i++) {
        _lnb[_i].classList = 'h_lnb';
      }

      _lnb[params.cate].className = 'h_lnb on';
    }

    _lnb[0].setAttribute('href', HtmlMokup.Service.main);

    _lnb[1].setAttribute('href', HtmlMokup.Works.main);

    _lnb[2].setAttribute('href', HtmlMokup.Contact.main);

    _lnb[3].setAttribute('href', HtmlMokup.About.main);

    SideBarService[0].innerHTML = "<li><a href=\"".concat(HtmlMokup.Service.design, "\">design</a></li>\n                                       <li><a href=\"").concat(HtmlMokup.Service.marketing, "\">marketing</a></li>\n                                       <li><a href=\"").concat(HtmlMokup.Service.academy, "\">academy</a></li>\n                                       <li><a href=\"").concat(HtmlMokup.Service.consulting, "\">consulting</a></li>");
    SideBarService[1].innerHTML = "<li><a href=\"".concat(HtmlMokup.Contact.design, "\">design</a></li>\n                                        <li><a href=\"").concat(HtmlMokup.Contact.marketing, "\">marketing</a></li>\n                                        <li><a href=\"").concat(HtmlMokup.Contact.academy, "\">academy</a></li>\n                                        <li><a href=\"").concat(HtmlMokup.Contact.consulting, "\">consulting</a></li>");
  },
  getQueryString: function getQueryString() {
    //Get QueryString
    params = {};
    window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (str, key, value) {
      params[key] = value;
    });
    return params;
  },
  ActiveNav: function ActiveNav() {
    if (params.pageno != undefined) {
      var ServiceTabNavList = document.querySelectorAll('.sub_nav');
      ServiceTabNavList[params.pageno].className = 'sub_nav on';
    }
  },
  ServiceTabNav: function ServiceTabNav() {
    this.getQueryString();
    var ServiceTabNavHtml = document.querySelectorAll('.wid_4');
    var Activeclass = "on";

    if (ServiceTabNavHtml.length > 0) {
      ServiceTabNavHtml[0].innerHTML = "  <li><a href=\"".concat(HtmlMokup.Service.design, "\" class='sub_nav'>DESIGN</a></li>\n                                            <li><a href=\"").concat(HtmlMokup.Service.marketing, "\" class='sub_nav'>MARKETING</a></li>\n                                            <li><a href=\"").concat(HtmlMokup.Service.academy, "\" class='sub_nav'>ACADEMY</a></li>\n                                            <li><a href=\"").concat(HtmlMokup.Service.consulting, "\" class='sub_nav'>CONSULTING</a></li>");
      this.ActiveNav();
    }
  },
  ContactTabNav: function ContactTabNav() {
    this.getQueryString();
    var ContactTabNavHtml = document.querySelectorAll('.wid_5');

    if (ContactTabNavHtml.length > 0) {
      ContactTabNavHtml[0].innerHTML = " <li><a href=\"".concat(HtmlMokup.Contact.main, "\" class=\"sub_nav\">1:1 \uBB38\uC758</a></li>\n                                                <li><a href=\"").concat(HtmlMokup.Contact.design, "\" class=\"sub_nav\">\uB514\uC790\uC778 \uBB38\uC758</a></li>\n                                                <li><a href=\"").concat(HtmlMokup.Contact.marketing, "\" class=\"sub_nav\">\uB9C8\uCF00\uD305 \uBB38\uC758</a></li>\n                                                <li><a href=\"").concat(HtmlMokup.Contact.consulting, "\" class=\"sub_nav\">\uCEE8\uC124\uD305 \uBB38\uC758</a></li>\n                                                <li><a href=\"").concat(HtmlMokup.Contact.academy, "\" class=\"sub_nav\">\uC544\uCE74\uB370\uBBF8 \uBB38\uC758</a></li>");
    }

    this.ActiveNav();
  }
};
var _WorkDataRender = {
  WorkData: [],
  WorkDataRender: function WorkDataRender(page) {
    var xhttp = new XMLHttpRequest();

    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        _WorkDataRender.WorkData = JSON.parse(this.response);
        var WorkListHtml = document.getElementById('work_list');
        var WorkData = _WorkDataRender.WorkData;
        TemplateArray = [];

        for (var i = 0; i < WorkData.length; i++) {
          TemplateArray.push("<div data-scrollview=\"true\">\n                        <div style=\"background:url(".concat(WorkData[i].background, ") center;\" \"background-size:auto 100%;\" class=\"animated work_lists\" data-animation=\"true\" data-animation-type=\"fadeInUp\">\n                            <a href=\"javascript:void()\">\n                                <div class=\"work_on\">\n                                    <div class=\"more_tag btn btn_w\" >REAN MORE<div class=\"pluarotate\"><span></span><span></span></div></div>\n                                </div>\n                                <div class=\"work_con\">\n                                    <p style=\"color:").concat(WorkData[i].fontColor, "\">").concat(WorkData[i].subTit, "</p>\n                                    <h2 style=\"color:").concat(WorkData[i].fontColor, "\">").concat(WorkData[i].mainTit, "</h2>\n                                    <div style=\"color:").concat(WorkData[i].fontColor, "\">").concat(WorkData[i].work, "</div>\n                                </div>\n                                <img src=\"images/img_dim.gif\" alt=\"dim\">\n                            </a>\n                        </div>\n                    </div>"));
        }

        var limitList = page == 'main' ? 8 : 9;
        var limitArray = TemplateArray.slice(0, WorkData.length);

        if (page == "main") {
          limitArray.push("<div data-scrollview=\"true\">\n                        <div style=\"background:url(images/works_more.jpg) center;\" class=\"animated delay_4\" data-animation=\"true\" data-animation-type=\"fadeInUp\">\n                            <a href=\"".concat(HtmlMokup.Works.main, "\">\n                                <div class=\"work_more\">\n                                    <h4>MORE PROJECT</h4>\n                                    <div class=\"pluarotate\"><span></span><span></span></div>\n                                </div>\n                                <img src=\"images/img_dim.gif\" alt=\"dim\">\n                            </a>\n                        </div>\n                    </div>"));
        }

        var resultArrayHtml = limitArray.toString();
        var replaceAll1 = resultArrayHtml.replaceAll(',', '');
        var replaceAll2 = replaceAll1.replaceAll('|', ',');
        var replaceAll3 = replaceAll2.replaceAll(null, ' ');
        WorkListHtml.innerHTML = replaceAll3;
        var WorkList = document.querySelectorAll('.work_lists');
        var MoreBtn = document.querySelectorAll('.more_tag');

        for (var i = 5; i < MoreBtn.length; i++) {
          MoreBtn[i].classList = "";
        }

        for (var i = limitList; i < WorkList.length; i++) {
          WorkList[i].style.display = "none";
        } // console.log(WorkList.slice(9,WorkData.length))

      }
    };

    xhttp.open('POST', 'data/works.data.json', true);
    xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhttp.send("data=0");
  },
  moreDataCount: 9,
  moreDataRender: function moreDataRender() {
    var WorkList = document.querySelectorAll('.work_lists');
    var workLoading = document.getElementById('work_loading');
    var limitCount = this.moreDataCount;

    if (limitCount < WorkList.length) {
      for (var i = limitCount; i < limitCount + 3; i++) {
        $(WorkList[i]).fadeIn(); //스크롤 이벤트 걸어줘야함
        // WorkList[i].style.display="block"
      }

      this.moreDataCount += 3;

      if (WorkList.length <= this.moreDataCount) {
        this.moreDataCount = WorkList.length;
      }
    } else {
      workLoading.style.opacity = '0';
    }
  }
};
navMokupRender.HeaderRender();
navMokupRender.SideBarNav();
navMokupRender.ServiceTabNav();
navMokupRender.ContactTabNav();